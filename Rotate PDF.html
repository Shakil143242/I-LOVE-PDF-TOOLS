<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rotate PDF - Your PDF Tool</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f4f8;
      --muted: #7a7a86;
      --accent: #e23a2f;
      --card: #ffffff;
      --dark: #222;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Montserrat', system-ui, sans-serif;
      background: var(--bg);
      color: var(--dark);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    header {
      text-align: center;
      padding: 30px 20px;
      background: linear-gradient(135deg, var(--accent), #d63c38);
      color: white;
    }
    
    header h1 {
      font-size: 2.8rem;
      margin-bottom: 10px;
      font-weight: 800;
    }
    
    header p {
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
      opacity: 0.9;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      flex: 1;
    }
    
    .main-content {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }
    
    .upload-section {
      flex: 1;
      background: var(--card);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    }
    
    .preview-section {
      flex: 1;
      background: var(--card);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    }
    
    .drop-area {
      border: 2px dashed #ddd;
      border-radius: 8px;
      padding: 40px 20px;
      text-align: center;
      background: #fafafa;
      transition: all 0.3s ease;
      margin-bottom: 20px;
    }
    
    .drop-area:hover {
      border-color: #aaa;
      background: #f5f5f5;
    }
    
    .big-btn {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      background: var(--accent);
      color: #fff;
      padding: 14px 28px;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 6px 12px rgba(226, 58, 47, 0.18);
      border: 0;
      font-size: 16px;
      transition: all 0.3s ease;
    }
    
    .big-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(226, 58, 47, 0.25);
    }
    
    .file-input {
      display: none;
    }
    
    .small-note {
      margin-top: 12px;
      color: var(--muted);
      font-size: 14px;
    }
    
    .file-info {
      display: flex;
      gap: 10px;
      align-items: center;
      padding: 15px;
      border-radius: 8px;
      background: #f9f9f9;
      margin-top: 20px;
    }
    
    .file-info .meta {
      flex: 1;
    }
    
    .controls {
      display: flex;
      gap: 10px;
      margin-top: 20px;
      justify-content: center;
    }
    
    .btn {
      padding: 12px 20px;
      border-radius: 8px;
      border: 0;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .btn.ghost {
      background: #fff;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
      border: 1px solid #eee;
    }
    
    .btn.ghost:hover {
      background: #f5f5f5;
    }
    
    .btn.primary {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 6px 12px rgba(226, 58, 47, 0.14);
    }
    
    .btn.primary:hover {
      background: #d63c38;
      transform: translateY(-2px);
    }
    
    .page-controls {
      margin-top: 20px;
    }
    
    .page-thumb {
      width: 100%;
      max-width: 200px;
      height: 280px;
      background: #fafafa;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 6px;
      border: 1px solid #eee;
      margin: 0 auto;
    }
    
    .page-thumb canvas {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    
    .page-actions {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 15px;
    }
    
    .rotate-btn {
      padding: 10px 15px;
      border-radius: 6px;
      background: #f0f0f0;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .rotate-btn:hover {
      background: #e0e0e0;
    }
    
    .download-page {
      display: none;
      text-align: center;
      padding: 40px 20px;
    }
    
    .download-card {
      background: white;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      max-width: 500px;
      margin: 0 auto;
    }
    
    .success-icon {
      font-size: 64px;
      color: #2bb673;
      margin-bottom: 20px;
    }
    
    .download-btn {
      display: inline-block;
      background: var(--accent);
      color: white;
      padding: 16px 36px;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 20px;
      text-decoration: none;
      box-shadow: 0 6px 18px rgba(198, 57, 53, 0.18);
      transition: all 0.3s ease;
      border: none;
    }
    
    .download-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 22px rgba(198, 57, 53, 0.25);
    }
    
    .back-btn {
      display: inline-block;
      margin-top: 20px;
      color: var(--muted);
      text-decoration: none;
      font-size: 14px;
      cursor: pointer;
    }
    
    .back-btn:hover {
      color: var(--dark);
    }
    
    footer {
      text-align: center;
      padding: 20px;
      color: var(--muted);
      font-size: 0.9rem;
      margin-top: 40px;
      border-top: 1px solid #eee;
    }
    
    @media (max-width: 768px) {
      .main-content {
        flex-direction: column;
      }
      
      header h1 {
        font-size: 2.2rem;
      }
      
      .download-card {
        padding: 30px 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Main Page -->
  <div id="mainPage">
    <header>
      <h1>Rotate PDF</h1>
      <p>Rotate your PDFs the way you need them. You can even rotate multiple PDFs at once!</p>
    </header>
    
    <div class="container">
      <div class="main-content">
        <div class="upload-section">
          <div class="drop-area" id="dropArea">
            <label class="big-btn" id="selectBtn">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M12 3v12" stroke="white" stroke-width="2" stroke-linecap="round"/>
                <path d="M5 10l7-7 7 7" stroke="white" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Select PDF files
            </label>
            <input id="fileInput" class="file-input" type="file" accept="application/pdf" multiple>
            
            <div class="small-note">or drop PDFs here</div>
          </div>
          
          <div id="fileInfo" style="display: none;">
            <div class="file-info">
              <div style="width:48px;height:48px;border-radius:6px;background:linear-gradient(180deg,#f6f6f9,#fff);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--muted)">PDF</div>
              <div class="meta">
                <div style="font-weight:700" id="fileName">document.pdf</div>
                <div style="font-size:13px;color:var(--muted)" id="fileSize">0 pages • 0 MB</div>
              </div>
            </div>
            
            <div class="controls">
              <button class="btn ghost" id="clearBtn">Clear</button>
              <button class="btn primary" id="processBtn">Process & Download</button>
            </div>
          </div>
        </div>
        
        <div class="preview-section">
          <h3>Preview</h3>
          <div class="page-thumb" id="pageThumb">
            <div style="color: var(--muted);">No PDF selected</div>
          </div>
          
          <div class="page-controls">
            <div class="page-actions">
              <button class="rotate-btn" id="rotateLeft">⟲ Rotate Left</button>
              <button class="rotate-btn" id="rotateRight">⟳ Rotate Right</button>
            </div>
            <div style="text-align: center; margin-top: 10px; color: var(--muted);">
              Rotation: <span id="rotationValue">0°</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <footer>
      <p>© 2025 PDF Tools • Your PDF Editor</p>
    </footer>
  </div>
  
  <!-- Download Page -->
  <div class="download-page" id="downloadPage">
    <div class="download-card">
      <div class="success-icon">✓</div>
      <h2>PDF Processed Successfully!</h2>
      <p>Your PDF has been rotated and is ready to download.</p>
      
      <button class="download-btn" id="downloadBtn">Download Rotated PDF</button>
      <br>
      <span class="back-btn" id="backBtn">← Back to Rotate PDF</span>
    </div>
  </div>

  <script>
    // DOM elements
    const mainPage = document.getElementById('mainPage');
    const downloadPage = document.getElementById('downloadPage');
    const selectBtn = document.getElementById('selectBtn');
    const fileInput = document.getElementById('fileInput');
    const dropArea = document.getElementById('dropArea');
    const fileInfo = document.getElementById('fileInfo');
    const fileName = document.getElementById('fileName');
    const fileSize = document.getElementById('fileSize');
    const clearBtn = document.getElementById('clearBtn');
    const processBtn = document.getElementById('processBtn');
    const pageThumb = document.getElementById('pageThumb');
    const rotateLeft = document.getElementById('rotateLeft');
    const rotateRight = document.getElementById('rotateRight');
    const rotationValue = document.getElementById('rotationValue');
    const downloadBtn = document.getElementById('downloadBtn');
    const backBtn = document.getElementById('backBtn');
    
    // State variables
    let currentFile = null;
    let currentRotation = 0;
    let pdfDoc = null;
    let currentPage = 1;
    
    // Event listeners
    selectBtn.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change', handleFileSelect);
    clearBtn.addEventListener('click', clearFile);
    processBtn.addEventListener('click', processPdf);
    rotateLeft.addEventListener('click', () => rotatePdf(-90));
    rotateRight.addEventListener('click', () => rotatePdf(90));
    downloadBtn.addEventListener('click', downloadPdf);
    backBtn.addEventListener('click', () => {
      downloadPage.style.display = 'none';
      mainPage.style.display = 'block';
      clearFile();
    });
    
    // Drag and drop functionality
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, preventDefaults, false);
    });
    
    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }
    
    ['dragenter', 'dragover'].forEach(eventName => {
      dropArea.addEventListener(eventName, highlight, false);
    });
    
    ['dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, unhighlight, false);
    });
    
    function highlight() {
      dropArea.style.borderColor = '#aaa';
      dropArea.style.background = '#f0f0f0';
    }
    
    function unhighlight() {
      dropArea.style.borderColor = '#ddd';
      dropArea.style.background = '#fafafa';
    }
    
    dropArea.addEventListener('drop', handleDrop, false);
    
    function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      handleFiles(files);
    }
    
    function handleFileSelect(e) {
      const files = e.target.files;
      handleFiles(files);
    }
    
    function handleFiles(files) {
      if (files.length > 0) {
        currentFile = files[0];
        displayFileInfo(currentFile);
        renderPdfPreview(currentFile);
      }
    }
    
    function displayFileInfo(file) {
      fileName.textContent = file.name;
      const fileSizeMB = (file.size / (1024 * 1024)).toFixed(2);
      fileSize.textContent = `Size: ${fileSizeMB} MB`;
      fileInfo.style.display = 'block';
    }
    
    function renderPdfPreview(file) {
      const reader = new FileReader();
      
      reader.onload = function(event) {
        const typedarray = new Uint8Array(event.target.result);
        
        // Load the PDF with pdf.js
        pdfjsLib.getDocument(typedarray).promise.then(function(pdf) {
          pdfDoc = pdf;
          
          // Render the first page
          pdf.getPage(1).then(function(page) {
            const viewport = page.getViewport({ scale: 1.5 });
            
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.height = viewport.height;
            canvas.width = viewport.width;
            
            const renderContext = {
              canvasContext: context,
              viewport: viewport
            };
            
            page.render(renderContext).promise.then(function() {
              pageThumb.innerHTML = '';
              pageThumb.appendChild(canvas);
            });
          });
        });
      };
      
      reader.readAsArrayBuffer(file);
    }
    
    function rotatePdf(degrees) {
      currentRotation = (currentRotation + degrees) % 360;
      if (currentRotation < 0) currentRotation += 360;
      rotationValue.textContent = `${currentRotation}°`;
      
      // For demonstration, we'll just show the rotation value
      // In a real implementation, you would actually rotate the PDF pages
    }
    
    function processPdf() {
      if (!currentFile) return;
      
      // Show processing animation
      processBtn.textContent = 'Processing...';
      processBtn.disabled = true;
      
      // Simulate processing time
      setTimeout(() => {
        // Hide main page and show download page
        mainPage.style.display = 'none';
        downloadPage.style.display = 'block';
        
        // Reset process button
        processBtn.textContent = 'Process & Download';
        processBtn.disabled = false;
      }, 1500);
    }
    
    function downloadPdf() {
      // Create a download link
      const content = `This is a simulated rotated PDF file.\n\nOriginal: ${currentFile.name}\nRotation: ${currentRotation}°`;
      const blob = new Blob([content], { type: 'application/pdf' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = currentFile.name.replace('.pdf', '-rotated.pdf');
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
    
    function clearFile() {
      currentFile = null;
      pdfDoc = null;
      currentRotation = 0;
      fileInfo.style.display = 'none';
      pageThumb.innerHTML = '<div style="color: var(--muted);">No PDF selected</div>';
      rotationValue.textContent = '0°';
      fileInput.value = '';
    }
  </script>
  
  <!-- PDF.js library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.15.349/pdf.min.js"></script>
  <script>
    // Initialize PDF.js worker
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.15.349/pdf.worker.min.js';
  </script>
</body>
</html>
