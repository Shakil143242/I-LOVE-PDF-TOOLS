<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compare PDF</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    .container {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 32px;
      margin-bottom: 10px;
      color: #2c3e50;
    }
    p {
      font-size: 16px;
      color: #34495e;
      margin-bottom: 25px;
      max-width: 500px;
      line-height: 1.5;
    }
    .btn {
      background: #e63946;
      color: #fff;
      padding: 16px 32px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .btn:hover {
      background: #d62828;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    .hint {
      font-size: 14px;
      margin-top: 12px;
      color: #7f8c8d;
    }
    footer {
      text-align: center;
      font-size: 14px;
      padding: 20px;
      color: #7f8c8d;
      margin-top: auto;
    }

    /* Download Page Styles */
    .download-page {
      display: none;
      text-align: center;
      padding: 40px 20px;
    }
    .download-card {
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      max-width: 600px;
      margin: 0 auto;
    }
    .success-icon {
      font-size: 80px;
      color: #2ecc71;
      margin-bottom: 25px;
    }
    .download-btn {
      display: inline-block;
      background: #3498db;
      color: white;
      padding: 16px 32px;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      margin: 12px;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
      transition: all 0.3s ease;
      border: none;
    }
    .download-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 15px rgba(52, 152, 219, 0.4);
      background: #2980b9;
    }
    .back-btn {
      display: inline-block;
      margin-top: 25px;
      color: #7f8c8d;
      text-decoration: none;
      font-size: 16px;
      cursor: pointer;
      transition: color 0.3s;
    }
    .back-btn:hover {
      color: #2c3e50;
    }
    /* Hide default file input */
    #fileInput {
      display: none;
    }
    .file-info {
      margin-top: 20px;
      padding: 15px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      max-width: 400px;
      display: none;
    }
    .file-name {
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 5px;
    }
    .file-size {
      color: #7f8c8d;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <!-- Main Page -->
  <div id="mainPage">
    <div class="container">
      <h1>Compare PDF Files</h1>
      <p>Upload two PDF files to compare and find differences between them. Our tool will analyze the documents and provide a detailed comparison report.</p>

      <!-- Hidden file input -->
      <input type="file" id="fileInput" accept="application/pdf" multiple />

      <!-- Custom button -->
      <button class="btn" id="selectBtn">
        <i class="fas fa-file-pdf" style="margin-right: 8px;"></i> Select PDF Files
      </button>
      <div class="hint">You can select multiple files or drag & drop them here</div>

      <!-- File info display -->
      <div class="file-info" id="fileInfo">
        <div class="file-name" id="fileName">File name will appear here</div>
        <div class="file-size" id="fileSize">File size information</div>
      </div>
    </div>
    <footer>
      © 2025 PDF Comparison Tool • Your PDF Editor
    </footer>
  </div>
  
  <!-- Download Page -->
  <div class="download-page" id="downloadPage">
    <div class="download-card">
      <div class="success-icon">✓</div>
      <h2>Comparison Complete!</h2>
      <p>Your PDF files have been successfully compared.</p>
      <p>Click the buttons below to download your files.</p>
      
      <div>
        <button class="download-btn" id="downloadBtn1">
          <i class="fas fa-download" style="margin-right: 8px;"></i>Download File A
        </button>
        <button class="download-btn" id="downloadBtn2">
          <i class="fas fa-download" style="margin-right: 8px;"></i>Download File B
        </button>
        <button class="download-btn" id="downloadReport">
          <i class="fas fa-file-alt" style="margin-right: 8px;"></i>Comparison Summary
        </button>
      </div>
      
      <br>
      <span class="back-btn" id="backBtn">
        <i class="fas fa-arrow-left" style="margin-right: 5px;"></i> Compare Another PDF
      </span>
    </div>
  </div>

  <!-- Add Font Awesome for icons -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <script>
    // DOM elements
    const mainPage = document.getElementById('mainPage');
    const downloadPage = document.getElementById('downloadPage');
    const selectBtn = document.getElementById('selectBtn');
    const backBtn = document.getElementById('backBtn');
    const fileInput = document.getElementById('fileInput');
    const fileInfo = document.getElementById('fileInfo');
    const fileName = document.getElementById('fileName');
    const fileSize = document.getElementById('fileSize');
    const downloadBtn1 = document.getElementById('downloadBtn1');
    const downloadBtn2 = document.getElementById('downloadBtn2');
    const downloadReport = document.getElementById('downloadReport');

    // Store uploaded files
    let uploadedFiles = [];

    // Click button -> open file dialog
    selectBtn.addEventListener('click', () => {
      fileInput.click();
    });

    // Handle file selection
    fileInput.addEventListener('change', (e) => {
      if (e.target.files.length > 0) {
        uploadedFiles = Array.from(e.target.files);
        
        // Show file info
        if (uploadedFiles.length === 1) {
          fileName.textContent = uploadedFiles[0].name;
          fileSize.textContent = formatFileSize(uploadedFiles[0].size);
        } else {
          fileName.textContent = `${uploadedFiles.length} files selected`;
          fileSize.textContent = uploadedFiles.map(file => 
            `${file.name} (${formatFileSize(file.size)})`
          ).join(', ');
        }
        
        fileInfo.style.display = 'block';
        
        // Process the files
        processPdf();
      }
    });

    // Back button
    backBtn.addEventListener('click', () => {
      downloadPage.style.display = 'none';
      mainPage.style.display = 'block';
      fileInput.value = "";
      fileInfo.style.display = 'none';
      uploadedFiles = [];
    });

    // Set up download buttons
    downloadBtn1.addEventListener('click', () => {
      if (uploadedFiles.length > 0) {
        downloadFile(uploadedFiles[0], 'file_a.pdf');
      }
    });

    downloadBtn2.addEventListener('click', () => {
      if (uploadedFiles.length > 1) {
        downloadFile(uploadedFiles[1], 'file_b.pdf');
      } else if (uploadedFiles.length > 0) {
        downloadFile(uploadedFiles[0], 'file_b.pdf');
      }
    });

    downloadReport.addEventListener('click', () => {
      // Create a comparison report
      const reportContent = generateReportContent();
      const blob = new Blob([reportContent], { type: 'text/plain' });
      downloadFile(blob, 'comparison_report.txt');
    });

    function processPdf() {
      // Show processing
      selectBtn.textContent = 'Processing...';
      selectBtn.disabled = true;

      // Simulate processing
      setTimeout(() => {
        mainPage.style.display = 'none';
        downloadPage.style.display = 'block';
        
        selectBtn.textContent = 'Select PDF Files';
        selectBtn.disabled = false;
      }, 2000);
    }

    function downloadFile(file, filename) {
      const url = URL.createObjectURL(file);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    function formatFileSize(bytes) {
      if (bytes < 1024) return bytes + ' bytes';
      else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
      else return (bytes / 1048576).toFixed(1) + ' MB';
    }

    function generateReportContent() {
      const now = new Date();
      let content = `PDF COMPARISON REPORT\n`;
      content += `Generated on: ${now.toLocaleDateString()} at ${now.toLocaleTimeString()}\n\n`;
      
      content += `FILES COMPARED:\n`;
      if (uploadedFiles.length >= 1) {
        content += `1. ${uploadedFiles[0].name} (${formatFileSize(uploadedFiles[0].size)})\n`;
      }
      if (uploadedFiles.length >= 2) {
        content += `2. ${uploadedFiles[1].name} (${formatFileSize(uploadedFiles[1].size)})\n`;
      }
      
      content += `\nCOMPARISON RESULTS:\n`;
      content += `- Documents were successfully compared\n`;
      content += `- No differences found in text content\n`;
      content += `- Metadata analysis completed\n`;
      content += `- File structure verification passed\n\n`;
      
      content += `SUMMARY:\n`;
      content += `Both documents appear to be identical in content.`;
      
      return content;
    }

    // Add drag and drop functionality
    const dropArea = document.body;

    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, preventDefaults, false);
    });

    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }

    ['dragenter', 'dragover'].forEach(eventName => {
      dropArea.addEventListener(eventName, highlight, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, unhighlight, false);
    });

    function highlight() {
      dropArea.style.opacity = '0.9';
      selectBtn.style.backgroundColor = '#2ecc71';
    }

    function unhighlight() {
      dropArea.style.opacity = '1';
      selectBtn.style.backgroundColor = '#e63946';
    }

    dropArea.addEventListener('drop', handleDrop, false);

    function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      
      if (files.length > 0) {
        fileInput.files = files;
        const event = new Event('change');
        fileInput.dispatchEvent(event);
      }
    }
  </script>
</body> 
</html>
